<!DOCTYPE html><html lang="en"><head><title>test</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="test"><meta name="groc-project-path" content="test.coffee"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">test.coffee</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="nv">chai = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;chai&#39;</span><span class="p">)</span>
<span class="nx">chai</span><span class="p">.</span><span class="nx">should</span><span class="p">()</span>

<span class="nx">describe</span> <span class="s">&quot;NBC&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="nf">-&gt;</span>
    <span class="nv">nbc = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;./lib/BayesianClassifierCore&#39;</span><span class="p">)</span>
    <span class="nx">describe</span> <span class="s">&quot;classification&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="nf">-&gt;</span>
        <span class="nv">trainer = </span><span class="k">new</span> <span class="nx">nbc</span><span class="p">()</span>
    
        <span class="nv">trainingData = </span><span class="nx">trainer</span><span class="p">.</span><span class="nx">getEmptyTrainingData</span><span class="p">()</span>

        <span class="nx">it</span> <span class="s">&#39;Must train documents&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="nf">-&gt;</span>
            <span class="nx">trainer</span><span class="p">.</span><span class="nx">trainDocument</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;osx&#39;</span><span class="p">,</span> <span class="s">&quot;OS X Mountain Lion makes the Mac even better. And with so many new features, now the Mac works even better with iPhone, iPad, and iPod touch.&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">trainer</span><span class="p">.</span><span class="nx">trainDocument</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;osx&#39;</span><span class="p">,</span> <span class="s">&quot;Many people are going to hate Apple’s decision to turn the way scrolling works on its head, but here at Cult of Mac, we not only love it… we think it’s the future. But it’ll take some getting used to. Here’s our primer on how to start training yourself to use Lion’s “reverse scrolling” right now, today, under&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">trainer</span><span class="p">.</span><span class="nx">trainDocument</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;osx&#39;</span><span class="p">,</span> <span class="s">&quot;Reverse Scrolling” is actually truer to the Macintosh OS desktop metaphor created by Apple back in the early 80s.&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">trainer</span><span class="p">.</span><span class="nx">trainDocument</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;win&#39;</span><span class="p">,</span> <span class="s">&quot;Windows RT (codenamed Windows on ARM) is a special Microsoft Windows operating system designed to run on mobile devices utilizing the ARM architecture, such as tablets. Unlike Windows 8, Windows RT is only distributed as a pre-loaded operating system on devices produced by participating OEMs. Windows RT officially launched alongside Windows 8 on October 26, 2012 with the release of several Windows RT-powered tablets by various manufacturers, along with an RT version of Surface, the first device capable of running Windows manufactured and sold directly by Microsoft&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nv">trainingData = </span><span class="nx">trainer</span><span class="p">.</span><span class="nx">simplifyTrainingData</span> <span class="nx">trainingData</span>

            <span class="nx">trainingData</span><span class="p">.</span><span class="nx">priors</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span> 
                <span class="nv">osx: </span><span class="o">-</span><span class="mf">0.2876820724517808</span>
                <span class="nv">win: </span><span class="o">-</span><span class="mf">1.3862943611198906</span>

                <span class="nx">trainingData</span><span class="p">.</span><span class="nx">unknownWord</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span>
                    <span class="nv">osx: </span><span class="o">-</span><span class="mf">5.493061443340548</span>
                    <span class="nv">win: </span><span class="o">-</span><span class="mf">5.420534999272286</span>

                <span class="nx">trainingData</span><span class="p">.</span><span class="nx">likelihood</span><span class="p">.</span><span class="nx">osx</span><span class="p">.</span><span class="nx">Mountain</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="o">-</span><span class="mf">4.799914262780603</span>
                <span class="nx">trainingData</span><span class="p">.</span><span class="nx">likelihood</span><span class="p">.</span><span class="nx">win</span><span class="p">[</span><span class="s">&quot;OEMs.&quot;</span><span class="p">].</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="o">-</span><span class="mf">4.727387818712341</span>


        <span class="nx">it</span> <span class="s">&#39;Must compute P(D|C)&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="nf">-&gt;</span>
            <span class="nv">res = </span><span class="nx">trainer</span><span class="p">.</span><span class="nx">getClassificationProb</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;osx&#39;</span><span class="p">,</span> <span class="s">&#39;steve jobs made osx awesome&#39;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span> 
                <span class="k">class</span><span class="o">:</span> <span class="s">&#39;osx&#39;</span>
                <span class="nv">logprob: </span><span class="o">-</span><span class="mf">27.75298928915452</span>

            <span class="nv">res = </span><span class="nx">trainer</span><span class="p">.</span><span class="nx">getClassificationProb</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;win&#39;</span><span class="p">,</span> <span class="s">&#39;steve jobs made osx awesome&#39;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span> 
                <span class="k">class</span><span class="o">:</span> <span class="s">&#39;win&#39;</span>
                <span class="nv">logprob: </span><span class="o">-</span><span class="mf">28.48896935748132</span>


        <span class="nx">it</span> <span class="s">&#39;Must compute P(C|D)&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="nf">-&gt;</span>
            <span class="nv">res = </span><span class="nx">trainer</span><span class="p">.</span><span class="nx">classifyDocument</span> <span class="nx">trainingData</span><span class="p">,</span> <span class="s">&#39;steve jobs made osx awesome&#39;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span> <span class="s">&#39;osx&#39;</span>
        </div></div></div></div></body></html>